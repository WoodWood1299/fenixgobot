services:
  fenixgobot:
    build: .
    image: fenixgobot:latest
    container_name: fenixgobot
    restart: unless-stopped
    environment:
      - DISCORD_TOKEN_ID=${DISCORD_TOKEN_ID}
      - DISCORD_GUILD_ID=${DISCORD_GUILD_ID:-}
    volumes:
      - fenixgobot-data:/data
    deploy:
      resources:
        limits:
          cpus: '1.0'
          memory: 1024M
    logging:
      driver: json-file
      options:
        max-size: 10m
        max-file: "3"

volumes:
  fenixgobot-data:
